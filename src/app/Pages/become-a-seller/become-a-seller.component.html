<div class="head">
  <a routerLink=""><img src="assets/images/Logo/final-logo-6.png" alt="" /></a>
</div>

<div class="container mt-5 mb-5 rounded">
  <h2 class="register_title">Company Registration</h2>
  <hr />
  <form [formGroup]="companyResistrationForm">
    <div class="row">
      <div class="col-12 col-md-6">
        <!-- company Name -->
        <div class="form-group">
          <label for="companyName"
            ><span class="text-danger">*</span>Company Name</label
          >
          <input
            type="text"
            id="companyName"
            formControlName="companyName"
            [class.error]="isFieldInvalid('companyName')"
          />
          <span class="text-danger" *ngIf="isFieldInvalid('companyName')"
            >Company Name is required.</span
          >
        </div>

        <!--foundation Date -->
        <div class="form-group">
          <label for="companyFoundationDate">Company Foundation Date</label>
          <input
            type="date"
            id="companyFoundationDate"
            formControlName="companyFoundationDate"
            class="w-100 p-1 rounded-1"
          />
        </div>

        <!-- Registration Number -->
        <div class="form-group">
          <label for="businessRegNum"
            ><span class="text-danger">*</span>Business Registration
            Number</label
          >
          <input
            type="text"
            id="businessRegNum"
            formControlName="businessRegNum"
            [class.error]="isFieldInvalid('businessRegNum')"
          />
          <span class="text-danger" *ngIf="isFieldInvalid('businessRegNum')"
            >Business Registration Number is required.</span
          >
        </div>
      </div>

      <div class="col-12 col-md-6">
        <!-- Tax Identification  -->
        <div class="form-group">
          <label for="taxIdntificationNum"
            ><span class="text-danger">*</span>Tax Identification Number</label
          >
          <input
            type="text"
            id="taxIdntificationNum"
            formControlName="taxIdntificationNum"
            [class.error]="isFieldInvalid('taxIdntificationNum')"
          />
          <span class="text-danger" *ngIf="isFieldInvalid('email')"
            >Tax Identification Number is required.</span
          >
        </div>

        <!-- Trade Licence -->
        <div class="form-group">
          <label for="tradeLicense"
            ><span class="text-danger">*</span>Upload Trade Licence</label
          >
          <input
            class="form-control"
            type="file"
            id="tradeLicense"
            formControlName="tradeLicense"
          />
          <span class="text-danger" *ngIf="isFieldInvalid('tradeLicence')"
            >Uploding Trade Licence is required.</span
          >
        </div>

        <!-- company Image -->
        <div class="form-group">
          <label for="companyImage">Upload your company Image</label>
          <input
            class="form-control"
            type="file"
            id="companyImage"
            formControlName="companyImage"
          />
        </div>
      </div>

      <div class="d-flex justify-content-center">
        <div class="col-12 col-md-6">
          <div class="form-group">
            <label for="preferredPaymentMethodID"
              >Preferred Payment Method</label
            >
            <select
              name="preferredPaymentMethodID"
              id="preferredPaymentMethodID"
              formControlName="preferredPaymentMethodID"
              (change)="getBankInfo()"
            >
              <!-- [(ngModel)]="selectedPaymentMethod" -->
              <option
                *ngFor="let method of paymentMethods"
                [value]="method.pmid"
              >
                {{ method.pmName }}
              </option>
            </select>
          </div>
          <!--  banking information -->
          <div *ngIf="showBankingInfo" class="mt-2" #PaymentInfo>
            <!-- bank name -->
            <div class="form-group">
              <label for="bankNameID"
                ><span class="text-danger">*</span>Bank Name</label
              >
              <select
                name="bankNameID"
                id="bankNameID"
                formControlName="bankNameID"
              >
                <option class="d-none" value="0" disabled>
                  Nothing is Selected
                </option>
                <option *ngFor="let type of bankInfo" [value]="type.pmid">
                  {{ type.pmName }}
                </option>
              </select>
            </div>
            <div class="form-group">
              <label for="accountNumber"
                ><span class="text-danger">*</span>Account No</label
              >
              <input
                type="text"
                id="accountNumber"
                formControlName="accountNumber"
              />
            </div>
            <div class="form-group">
              <label for="accountHolderName"
                ><span class="text-danger">*</span>Holder Name</label
              >
              <input
                type="text"
                id="accountHolderName"
                formControlName="accountHolderName"
              />
            </div>
          </div>
        </div>
      </div>
    </div>
    <button type="submit" class="button mt-3" (click)="onSubmit()">
      Submit
    </button>
  </form>
</div>

<!-- Modal -->
<div
  class="modal fade"
  id="userExistModal"
  tabindex="-1"
  aria-labelledby="userExistModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog">
    <div class="modal-content border border-danger">
      <div class="modal-header fs-5 fw-bold text-danger">
        <h1 class="modal-title fs-5" id="userExistModalLabel">
          {{ alertMsg }}
        </h1>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>
      <div class="modal-body">
        Please login or use another phone number to register!
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" data-bs-dismiss="modal">
          OK
        </button>
      </div>
    </div>
  </div>
</div>
